{% extends "regFolder/inherReg.html" %}
{% load static %}

<!--Head For Other Pages-->
{% block extra_head %}

<title>E-Application :: - Educational BackGround</title>

<link rel="stylesheet" href="{% static '/Css/eduBg.css' %}">


{% endblock %}

<!--The Rest Of The content-->

{% block content %}


     <!--Personal Info Form-->

     <div class="psDiv">
        <h3>EDUCATIONAL BACKGROUND</h3>
    </div>

    <!--Education Form-->

    <div class="eduForm">

        <form enctype="multipart/form-data"  method="post" id="eduForm" autocomplete="off">

            {% csrf_token %}

            <!--all sections-->
            <div class="allSec">

                 <!--University -->
                <div class="sec1">
                    <h4>* Univerisity</h4>

                    <div class="inpUn">

                        <!--Institution-->
                        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
                        {{university.institution}}

                        <script>

                            //To disable number inputs
                            //let fulInput = document.getElementById('id_institution').onkeydown = function() {return alphaOnly(event)}
    
                            //function alphaOnly(event) {
                                //var key = event.keyCode;`enter code here`
                                //return ((key >= 65 && key <= 90) || key == 8);
                              //};

                            function testInput(event) {
                                var value = String.fromCharCode(event.which);
                                var pattern = new RegExp(/[a-zåäö ]/i);
                                return pattern.test(value);
                            }
                             
                            $('#id_institution').bind('keypress', testInput);  

                            function Univ(){

                                let uniValue = document.getElementById('id_institution').value;
                            
                                if(uniValue != null && uniValue != ''){
                            
                                    theUbiv.style.borderColor = 'rgb(17, 197, 107)';
                            
                                }
                                else{
                            
                                   
                                    theUbiv.style.borderColor = 'rgb(197, 17, 17)';
                            
                            
                                }
                            
                            }

                            $('#id_institution').bind('input', Univ); 
    
                        </script>

                        <!--Course-->
                        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
                        {{university.course}}

                        <script>

                            //To disable number inputs
                            function testInput(event) {
                                var value = String.fromCharCode(event.which);
                                var pattern = new RegExp(/[a-zåäö ]/i);
                                return pattern.test(value);
                            }
                             
                            $('#id_course').bind('keypress', testInput);

                            function Course(){

                                let courseValue = document.getElementById('id_course').value;
                            
                                if(courseValue != null && courseValue != ''){
                            
                                    theCourse.style.borderColor = 'rgb(17, 197, 107)';
                            
                                }
                                else{
                            
                                   
                                    theCourse.style.borderColor = 'rgb(197, 17, 17)';
                            
                            
                                }
                            
                            }

                            $('#id_course').bind('input', Course);

                        </script>

                        <!--Drop Down Menu-->
                        <div class="dropForm">

                            <span>* Level</span>

                            {{university.level}}
                        </div>

                        <!--Start Date-->
                        <div class="dateP">

                            <span>* From</span>
                            {{university.uni_start_date}}

                            <script>

                                $(function(){
                                    var dtToday = new Date();
                                
                                    var month = dtToday.getMonth() + 1;
                                    var day = dtToday.getDate();
                                    var year = dtToday.getFullYear();
                                
                                    if(month < 10)
                                        month = '0' + month.toString();
                                    if(day < 10)
                                        day = '0' + day.toString();
                                
                                    var maxDate = year + '-' + month + '-' + day;    
                                    $('#id_uni_start_date').attr('max', maxDate);
                                });

                                //cHECK iNPUT
                                function UStarDate(){

                                    let startDateUni = document.getElementById('id_uni_start_date').value;
                                
                                    if(startDateUni != null && startDateUni != ''){
                                
                                        uniStart.style.borderColor = 'rgb(17, 197, 107)';
                                
                                
                                    }
                                    else{
                                
                                       
                                        uniStart.style.borderColor = 'rgb(197, 17, 17)';
                                
                                
                                    }
                                
                                }

                                $('#id_uni_start_date').bind('input', UStarDate);

                                //Disable Keydown Date Input

                                document.getElementById('id_uni_start_date').onkeydown = function(){
                                    return false
                                };

                            </script>


                        </div>

                        <!--Finish Date-->
                        <div class="dateP">

                            <span>* To</span>
                            {{university.uni_finish_date}}

                            <script>

                                function UniEnd(){

                                    let endUniDate = document.getElementById('id_uni_finish_date').value;
                                
                                    if(endUniDate != null && endUniDate != ''){
                                
                                        uniEnd.style.borderColor = 'rgb(17, 197, 107)';
                                
                                
                                    }
                                    else{
                                
                                       
                                        uniEnd.style.borderColor = 'rgb(197, 17, 17)';
                                
                                
                                    }
                                
                                
                                }

                                $('#id_uni_finish_date').bind('input', UniEnd);

                                //Disable Keydown Date Input

                                document.getElementById('id_uni_finish_date').onkeydown = function(){
                                    return false
                                };

                            </script>

                        </div>

                    </div>

                </div>

                <!--Secondary -->
                <div class="sec1">
                    <h4>* Secondary</h4>

                    <div class="inpUn">

                        <!--Institution-->
                        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
                        {{secondary.institution_high}}

                        <script>

                            //To disable number inputs
                            
                            function testInput(event) {
                                var value = String.fromCharCode(event.which);
                                var pattern = new RegExp(/[a-zåäö ]/i);
                                return pattern.test(value);
                            }
                             
                            $('#id_institution_high').bind('keypress', testInput);

                            function SecName(){

                                let highSchool = document.getElementById('id_institution_high').value;
                            
                                if(highSchool != null && highSchool != ''){
                            
                                    highName.style.borderColor = 'rgb(17, 197, 107)';
                            
                            
                                }
                                else{
                            
                                   
                                    highName.style.borderColor = 'rgb(197, 17, 17)';
                            
                            
                                }
                            
                            }

                            $('#id_institution_high').bind('input', SecName);
                              
    
                        </script>

                        <!--Individual Uploads 1-->
                        <div class="fileUpl">

                            <span>* KCSE Result Slip</span>

                            
                            <div class="TheBtUp">

                                <!--This is where input will be put-->
                                
                                <div class="butUp" id="input" onclick="chooseFile()">

                                    <span>Upload KCSE</span>

                                    <div id="file">
                                        <i class="fas fa-solid fa-file"></i>
                                    </div>
                                </div>
                        
                                <p class="cvBTN" id="kcseFileName" >File Name</p>

                                {{secondary.kcse_file}}

                            </div>

                            <script>

                                function chooseFile()
                                {

                                    let idFile = document.getElementById('id_kcse_file');
                                    let nameFile = document.getElementById("kcseFileName");
                                    idFile.click()
                                }
                               
                                //Replace Name
                                let idFile = document.getElementById('id_kcse_file');
                                let nameFile = document.getElementById("kcseFileName");

                                idFile.addEventListener('change', function(event){
                                    let uploadFileName1 = event.target.files[0].name;
                                    nameFile.textContent = uploadFileName1;

                                    const submit = document.getElementById('submitBtn');
    
                                    //Checking file extension
                                    const [extension, ...nameParts] = uploadFileName1.split('.').reverse();
                                    console.log('extension:', extension);

                                    if(extension != 'pdf' && extension != 'PDF'){
                                        nameFile.style.color = 'rgb(197, 17, 17)';
                                        idFile.value = null;
                                        

                                        //disable button
                                    }
                                    else{
                                        nameFile.style.color = 'rgb(17, 197, 107)';
                                    
                                    }

                                })
                            </script>

                    
                        </div>


                        <!--Start Date-->
                        <div class="dateP">

                            <span>* From</span>
                            {{secondary.sec_start_date}}

                            <script>

                                //Restrict Future Dates

                                $(function(){
                                    var dtToday = new Date();
                                
                                    var month = dtToday.getMonth() + 1;
                                    var day = dtToday.getDate();
                                    var year = dtToday.getFullYear();
                                
                                    if(month < 10)
                                        month = '0' + month.toString();
                                    if(day < 10)
                                        day = '0' + day.toString();
                                
                                    var maxDate = year + '-' + month + '-' + day;    
                                    $('#id_sec_start_date').attr('max', maxDate);
                                });

                                function SecStart(){

                                    let secStartValue = document.getElementById('id_sec_start_date').value;
                                
                                    if(secStartValue != null && secStartValue != ''){
                                
                                        secStartDate.style.borderColor = 'rgb(17, 197, 107)';
                                
                                
                                    }
                                    else{
                                
                                       
                                        secStartDate.style.borderColor = 'rgb(197, 17, 17)';
                                
                                
                                    }
                                
                                }

                                $('#id_sec_start_date').bind('input', SecStart);

                                //Disable Keydown Date Input

                                 document.getElementById('id_sec_start_date').onkeydown = function(){
                                    return false
                                };
                                
                                
                            </script>

                        </div>

                        <!--Finish Date-->
                        <div class="dateP">

                            <span>* To</span>
                            {{secondary.sec_finish_date}}

                            <script>

                                //Restrict Future Dates

                                $(function(){
                                    var dtToday = new Date();
                                
                                    var month = dtToday.getMonth() + 1;
                                    var day = dtToday.getDate();
                                    var year = dtToday.getFullYear();
                                
                                    if(month < 10)
                                        month = '0' + month.toString();
                                    if(day < 10)
                                        day = '0' + day.toString();
                                
                                    var maxDate = year + '-' + month + '-' + day;    
                                    $('#id_sec_finish_date').attr('max', maxDate);
                                });


                                function SecEndValue(){

                                    let borderEndSec = document.getElementById('id_sec_finish_date').value;
                                
                                    if(borderEndSec != null && borderEndSec != ''){
                                
                                        kcseFinsh.style.borderColor = 'rgb(17, 197, 107)';
                                
                                
                                    }
                                    else{
                                
                                       
                                        kcseFinsh.style.borderColor = 'rgb(197, 17, 17)';
                                
                                
                                    }
                                
                                }

                                $('#id_sec_finish_date').bind('input', SecEndValue);

                                //Disable Keydown Date Input

                                document.getElementById('id_sec_finish_date').onkeydown = function(){
                                    return false
                                };
                                
                            </script>

                        </div>

                    </div>

                </div>

                 <!--Primary -->
                 <div class="sec1">
                    <h4>* Primary</h4>

                    <div class="inpUn">

                        <!--Institution-->
                        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
                        {{primary.institution_pri}}

                        <script>

                            //To disable number inputs
    
                            function testInput(event) {
                                var value = String.fromCharCode(event.which);
                                var pattern = new RegExp(/[a-zåäö ]/i);
                                return pattern.test(value);
                            }
                             
                            $('#id_institution_pri').bind('keypress', testInput);

                            function Priname(){

                                let priInName = document.getElementById('id_institution_pri').value;
                            
                                if(priInName != null && priInName != ''){
                            
                                    priNameput.style.borderColor = 'rgb(17, 197, 107)';
                            
                                }
                                else{
                            
                                    priNameput.style.borderColor = 'rgb(197, 17, 17)';
                            
                                }
                            
                            }

                            $('#id_institution_pri').bind('input', Priname);

                        </script>

                        <!--Individual Uploads 1-->
                        <div class="fileUpl">

                            <span>* KCPE Result Slip</span>

                            
                            <div class="TheBtUp">

                                <!--This is where input will be put-->
                                
                                <div class="butUp" id="input" onclick="chooseFilePe()">

                                    <span>Upload KCPE</span>

                                    <div id="file">
                                        <i class="fas fa-solid fa-file"></i>
                                    </div>
                                </div>
                        
                                <p class="cvBTN" id="kcpeFileName" >File Name</p>

                                {{primary.kcpe_file}}

                            </div>

                            <script>

                                function chooseFilePe()
                                {

                                    let idFileK = document.getElementById('id_kcpe_file');
                                    let nameFileK = document.getElementById("kcpeFileName");
                                    idFileK.click()
                                }
                               
                                //Replace Name
                                let idFileK = document.getElementById('id_kcpe_file');
                                let nameFileK = document.getElementById("kcpeFileName");

                                idFileK.addEventListener('change', function(event){
                                    let uploadFileName = event.target.files[0].name;
                                    nameFileK.textContent = uploadFileName;

                                    //const submit = document.getElementById('submitBtn');
    
                                    //Checking file extension
                                    const [extension, ...nameParts] = uploadFileName.split('.').reverse();
                                    console.log('extension:', extension);

                                    if(extension != 'pdf' && extension != 'PDF'){
                                        nameFileK.style.color = 'rgb(197, 17, 17)';

                                        idFileK.value = null;

                                        console.log('null')
                                        

                                        //disable button
                                    }
                                    else{
                                        nameFileK.style.color = 'rgb(17, 197, 107)';
                                    
                                    }

                                })

                            </script>

                    
                        </div>


                        <!--Start Date-->
                        <div class="dateP">

                            <span>* From</span>
                            {{primary.start_date}}

                            <script>

                                //Restrict Future Dates

                                $(function(){
                                    var dtToday = new Date();
                                
                                    var month = dtToday.getMonth() + 1;
                                    var day = dtToday.getDate();
                                    var year = dtToday.getFullYear();
                                
                                    if(month < 10)
                                        month = '0' + month.toString();
                                    if(day < 10)
                                        day = '0' + day.toString();
                                
                                    var maxDate = year + '-' + month + '-' + day;    
                                    $('#id_start_date').attr('max', maxDate);
                                });

                                function StartPri(){

                                    let kpeStart = document.getElementById('id_start_date').value;
                                
                                    if(kpeStart != null && kpeStart != ''){
                                
                                        kcpeDateStart.style.borderColor = 'rgb(17, 197, 107)';
                                
                                    }
                                    else{
                                
                                        kcpeDateStart.style.borderColor = 'rgb(197, 17, 17)';
                                
                                    }
                                
                                }

                                $('#id_start_date').bind('input', StartPri);

                                //Disable Keydown Date Input

                                document.getElementById('id_start_date').onkeydown = function(){
                                    return false
                                };
                                
                            </script>
                           
                        </div>

                        <!--Finish Date-->
                        <div class="dateP">

                            <span>* To</span>

                            {{primary.finish_date}}

                            <script>

                                //Restrict Future Dates

                                $(function(){
                                    var dtToday = new Date();
                                
                                    var month = dtToday.getMonth() + 1;
                                    var day = dtToday.getDate();
                                    var year = dtToday.getFullYear();
                                
                                    if(month < 10)
                                        month = '0' + month.toString();
                                    if(day < 10)
                                        day = '0' + day.toString();
                                
                                    var maxDate = year + '-' + month + '-' + day;    
                                    $('#id_finish_date').attr('max', maxDate);
                                });
                                

                                function EndPri(){

                                    let kpeStartEnd = document.getElementById('id_finish_date').value;
                                
                                    if(kpeStartEnd != null && kpeStartEnd != ''){
                                
                                        kcpeEndDate.style.borderColor = 'rgb(17, 197, 107)';
                                
                                    }
                                    else{
                                
                                        kcpeEndDate.style.borderColor = 'rgb(197, 17, 17)';
                                
                                    }
                                
                                }

                                $('#id_finish_date').bind('input', EndPri);

                                //Disable Keydown Date Input

                                document.getElementById('id_finish_date').onkeydown = function(){
                                    return false
                                };

                            </script>

                        </div>

                    </div>

                </div>
            

            </div>


            <div class="butt">

                <div class="btContr">
    
                    <div class="flexContr">
                         <!--This are the control buttons-->
                        <div class="contIc1 " onmouseover="rote()" onmouseout="rotestop()" onclick="resetForm()" > 
                            <div id="refresh">
                                <i class="fas fa-redo"></i>
                            </div>
                        </div>

                        <!--Refresh rotae button-->

                        <script>

                            //hover to add class rotate

                            let classRote = document.querySelector('.contIc1');

                            //Start Rotate 
                            function rote(){

                                classRote.classList.add('rotate')

                            }

                            //End Rotate
                            function rotestop(){

                                classRote.classList.remove('rotate')

                            }

                            //rotation animation

                            $('#bikechain').on('mouseout', function () {
                                $(this).css('-webkit-animation-play-state','paused');
                                $(this).css('animation-play-state','paused');
                            });
                            
                            $('#bikechain').on('mouseover', function () {
                                $(this).css('-webkit-animation-play-state','running');
                                $(this).css('animation-play-state','running');
                            })

                        </script>
                    
                        <!--This are the control buttons-->
                        <a href="{% url 'edupsInfo' %}">
                            <div class="contIc2">
                                <div id="canc">
                                    <i class="fas fa-light fa-angle-left"></i>
                                </div>
                            </div>
                        </a>
                        
                    </div>
    
                </div>
    
                <button type="submit" class="inactive " id="subBtnIt" disabled >Submit</button>
    
            </div>

            <!--Reset button form-->

            <script> 

                //code for refresh
                function resetForm(){

                    window.location.reload();

                }


                //Date Field

                document.getElementById('id_uni_start_date').type = 'date';
                document.getElementById('id_uni_finish_date').type = 'date';
                document.getElementById('id_sec_start_date').type = 'date';
                document.getElementById('id_sec_finish_date').type = 'date';
                document.getElementById('id_start_date').type = 'date';
                document.getElementById('id_finish_date').type = 'date';

                //Appropriate place holders
                document.getElementById("id_institution").placeholder = "Enter Institute";
                document.getElementById("id_course").placeholder = "Enter Your Course";
                document.getElementById("id_institution_high").placeholder = "Enter School";
                document.getElementById("id_institution_pri").placeholder = "Enter School";


            </script>
    

        </form>

    </div>


{% endblock %}

<!--Js Section-->

{% block js %}

<script src="{% static '/Js/edu.js'%}" charset="utf-8"></script>

{% endblock %}

